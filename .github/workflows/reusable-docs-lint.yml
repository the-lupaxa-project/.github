name: Reusable Documentation Lint (Markdown + YAML)

on:
  workflow_call:
    inputs:
      md_globs:
        description: "Glob(s) for Markdown files"
        required: false
        type: string
        default: "**/*.md"
      yml_globs:
        description: "Glob(s) for YAML files"
        required: false
        type: string
        default: |
          **/*.yml
          **/*.yaml
      report_only:
        description: "Do not fail the build even if errors occur"
        required: false
        type: string
        default: "false"
      show_errors:
        description: "Show detailed error output"
        required: false
        type: string
        default: "true"

jobs:
  markdown:
    name: Markdown Lint
    uses: ./.github/workflows/reusable-markdown-lint.yml
    permissions:
      contents: read
    with:
      include_files: ${{ inputs.md_globs }}
      exclude_files: ""
      report_only: ${{ inputs.report_only }}
      show_errors: ${{ inputs.show_errors }}
    secrets: inherit

  yaml:
    name: YAML Lint
    uses: ./.github/workflows/reusable-yaml-lint.yml
    permissions:
      contents: read
    with:
      include_files: ${{ inputs.yml_globs }}
      exclude_files: ""
      report_only: ${{ inputs.report_only }}
      show_errors: ${{ inputs.show_errors }}
    secrets: inherit
